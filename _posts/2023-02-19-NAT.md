# Network Address Translation

网络地址转换

这里要明白的概念：

- 交换机：连接LAN（Local Area Network）设备并在它们之间转发数据。
- 路由器：将多个网络连接起来并在它们之间转发数据。

交换机构与外界隔绝的网络，路由器将每个与外界隔绝的网络连接起来。

根据上述的内容我们就可以得知如今的互联网是很多个设备或子网（这个子网可是会涵盖其他子网）构成。

我们如今最大的网络互联网，拥有的网段为公网。接入公网的设备或者子网都有相互访问的能力。

子网的划分缓解了 IPv4 协议中公网地址紧张的问题。

**子网是如何接入互联网的？**

现在我们家用的 WiFi 也能构成一个 LAN 。

那你有没有想过子网的网络是如何接入互联网的？

多亏了路由器的 NAT 功能。

路由器在内网有专有地址，比如 `192.168.0.1`。

交换机将非内网的通信数据通过专有地址转交给路由器，路由器使用 NAT 将数据包中的源地址更改为公网地址，然后跟踪数据。

当有回复收到时再根据跟踪数据转发给内网设备。

一个路由器可以处理多个这样的子网，当然要求他们的子网网段不同。

理所应，这个 NAT 也是可以套娃了。