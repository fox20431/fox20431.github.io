---
title: "`dd` 命令使用指南"
excerpt: "`dd` 常作为备份使用的命令，有着更底层的操作逻辑，了解 `dd` 的运作逻辑有助于更好备份数据。"
---

# DD

`dd` 命令可以转换和复制文件，常被用作备份数据的工具。

## 原理

dd 是按字节拷贝数据的。

对于一个文件系统来说，这个文件系统中的数据并不是一直保存在连续的空间上。文件系统通常将数据分成块（block），块之间可能有未使用的空间（holes），数据也可能在文件系统中的不同位置散布。但是，文件系统会维护每个块的地址和元数据信息，例如文件名、大小、权限等等。在拷贝一个文件系统的时候，dd 会按照文件系统中的块来复制数据，并且会包括每个块的元数据信息。这样就能确保数据和元数据一起被复制，而且被复制后的数据和原来的数据完全一致。

换句话说，dd在备份数据时并不会备份文件中的空洞（holes）。

这也意味着，你可以备份1000G硬盘中200G数据到500G的硬盘中，而不用担心 holes 带来的影响。
